<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default}">


<div class="thirteen wide column" layout:fragment="content">
	<div class="ui container right aligned">
		<div class="ui toggle checkbox" id="downtf">
			<input type="checkbox" name="public">
			<label>다운로드 받기</label>
		</div>
	</div>
	<div class="ui right aligned fluid container">
		<button class="ui button" id="btnReg" onclick="showRegisterPop()">등록하기</button>
	</div>


	<div id="registerPop" style="display: none;">
		<div class="ui fluid conatainer">
			<div class="ui grid" style="padding-top: 30px;">
				<div class="three column row">
					<div class="right floated column" style="background-color:antiquewhite; padding: 30px;">
						<form class="ui form" id="Form">


							<div class="field">
								<label>박물관 이름</label>
								<input type="text" placeholder="박물관 이름을 입력해주세요" name="museumName">
							</div>
							<div class="field">
								<label>박물관 전화번호</label>
								<input type="text" placeholder="박물관 전화번호를 입력해주세요" name="museumTel">
							</div>
							<div class="field">
								<label>박물관 위치</label>
								<input type="text" placeholder="박물관 위치를 입력해주세요" name="museumLoc">
							</div>

							<div class="field">
								<label>박물관 로고</label>
								<input type="file" placeholder="박물관 로고를 선택해주세요" name="file"
									onchange="previewImage(this,'thumbnailMul','300px','150px')" accept="image/*" />
							</div>
							<div id="thumbnailMul" style="padding-top:5px;"></div>
							<div id="thumbnail" style="padding-top:5px;"></div>
							<div class="field">
								<label>적용 디바이스</label>
								<div class="ui multiple selection dropdown">
									<!-- This will receive comma separated value like OH,TX,WY !-->
									<input name="deviceSeq" type="hidden">
									<i class="dropdown icon"></i>
									<div class="default text">States</div>
									<div class="menu">
										<div th:each="dev : ${devicelist}" class="item"
											th:attr="data-value=${dev.deviceSeq}">
											<span style="color:red" th:text="'('+${dev.deviceCode}+')'" />
											<span th:text="${dev.deviceName}" />

										</div>
									</div>
								</div>
							</div>

						</form>



						<div class="ui right aligned container" style="padding-top: 30px;">
							<button class="ui button" id="btnSubmit" onclick="fnSubmit()">저장하기</button>
							<button class="ui button" id="btnInvisible" onclick="hideRegisterPop()">취소하기</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="Table"></div>
	<div class="ui fluid container" style="padding-top: 30px;">
		<table class="ui striped table">
			<thead>
				<tr>
					<th>박물관 이름</th>
					<th class="center aligned">박물관 로고</th>
					<th>박물관 전화번호</th>
					<th>박물관 주소</th>
					<th>설치된 디바이스</th>
					<th class="right aligned">수정 / 삭제하기</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="mus : ${museumlist}">
					<td th:text="${mus.museumName}"></td>
					<td class="center aligned">
						<img th:src="${'/admin/file/imageView/' + mus.contentFileEntity.fileSeq}" width="300px"
							height="100px" alt="이미지가 존재하지 않습니다" />
						<span style="display: none;" class="downdatas"><br /><br />
							<button class="primary basic ui icon button"
								th:value="${'/admin/file/download/' + mus.contentFileEntity.fileSeq}"
								onclick="fndownloadfile(this)">
								<i class="download icon"></i> 다운로드 </button>
						</span>
					</td>
					<td th:text="${mus.museumTel}"></td>
					<td th:text="${mus.museumLoc}"></td>
					<td>
						<p style="color:red ;" th:each="device , index : ${mus.deviceEntity}"
							th:text="${'(' + device.deviceCode + ')' + device.deviceName}"></p>
					</td>
					<td class="right aligned"><a class="ui button"
							th:href="${'/admin/mus/modify/'+mus.museumSeq}">수정</a>
						<button class="ui button" th:value="${mus.museumSeq}" onclick="fnDelete(this)">삭제</button> </td>
				</tr>

			</tbody>

		</table>

	</div>



</div>

</html>
<script>
	$(function () {
		$('.ui.dropdown').dropdown();

		$('#downtf').checkbox({
			onChecked: function () {$("span.downdatas").show(); console.log("checked")},
			onUnchecked: function () {$("span.downdatas").hide();},
		});
	})

</script>